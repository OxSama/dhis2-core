name: Hello World Pipeline

on:
  pull_request:
# For this to work, this workflow needs to be on master https://github.com/orgs/community/discussions/66512#discussioncomment-6950485
#  workflow_run:
#    workflows: ["Check formatting"]
#    types:
#      - completed


jobs:
  say-hello:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v4
      - name: Set up JDK 17
        uses: actions/setup-java@v4
        with:
          java-version: 17
          distribution: temurin

      - name: Print Hello World
        run: echo "Hello, World!"

      # Set up Maven
      - name: Set up Maven
        run: sudo apt-get install maven

      # Run Maven build
      - name: Build with Maven
        run: mvn --threads 4 --batch-mode --no-transfer-progress clean install --update-snapshots --file ./dhis-2/pom.xml -DskipTests
